<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="../../../doku.css">
<title>CustomMessage</title>
<?php 
  $g_page_language = 'german';
  require_once('../../../../webnotes/core/api.php');
  pwn_head();
?><script type="text/javascript">
  function switchLanguage() {
    var loc = window.location.href;
    if (loc.match(/\/en\//)) loc = loc.replace(/\/en\//, "/de/");
    else loc = loc.replace(/\/de\//, "/en/");
    window.location = loc;
  }
</script>
</head>
<body>
<ul class="nav">
<li class="fineprint">Clonk Entwicklermodus Dokumentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_en_sml.gif" alt="English" border="0"></a></li>
<li><a href="../../../sdk/index.html">Einleitung</a></li>
<li><a href="../../../content.html">Inhalt</a></li>
<li><a href="../../../search.php">Suche</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Kommandozeile</a></li>
<li><a href="../../../sdk/files.html">Spieldaten</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
<h1 id="CustomMessage">CustomMessage</h1>
<div class="text">
<b>Kategorie: </b>Nachrichten<br><b>Ab Engineversion: </b>4.9.6.0 CR</div>
<h2>Beschreibung</h2>
<div class="text">Gibt eine Nachricht aus.</div>
<h2>Syntax</h2>
<div class="text fnsyntax">
<span class="type">bool</span> CustomMessage
      (<span class="type">string</span> message, <span class="type">object</span> obj, <span class="type">int</span> plr, <span class="type">int</span> offset_x, <span class="type">int</span> offset_y, <span class="type">int</span> color, <span class="type">id</span> deco, <span class="type">string</span> portrait, <span class="type">int</span> flags, <span class="type">int</span> iHSize);
    </div>
<h2>Parameter</h2>
<dl>
<dt>message: </dt>
<dd><div class="text">Nachricht, die ausgegeben wird.</div></dd>
<dt>obj: </dt>
<dd><div class="text">
    [opt]
  Wenn ungleich 0, wird die Nachricht über dem angegebenen Objekt ausgegeben.</div></dd>
<dt>plr: </dt>
<dd><div class="text">Nummer des Spielers, bei dem die Nachricht ausgegeben wird. Bei Angabe von NO_OWNER wird die Nachricht für alle Spieler angezeigt.</div></dd>
<dt>offset_x: </dt>
<dd><div class="text">
    [opt]
  x-Offset der Nachrichtenposition. Bei globalen Nachrichten ist dies die Viewportmitte. Bei Objektnachrichten ist dies relativ zur Standard-Nachrichtenposition über dem Objekt. Bei Portrait-Nachrichten (portrait!=0) ist das Offset relativ zur oberen, linken Viewportecke.</div></dd>
<dt>offset_y: </dt>
<dd><div class="text">
    [opt]
  y-Offset der Nachrichtenposition.</div></dd>
<dt>color: </dt>
<dd><div class="text">
    [opt]
  Farbe der Nachricht. Bei 0 Default auf 0xffffff (weiß).</div></dd>
<dt>deco: </dt>
<dd><div class="text">
    [opt]
  ID der Objektdefinition, die für Dekoration der Nachricht verwendet wird. Wenn angegeben, wird die Nachricht von einem Rahmen umgeben. Nur gültig bei angegebenem Portrait.</div></dd>
<dt>portrait: </dt>
<dd><div class="text">
    [opt]
  Bildspezifikation für ein Bild links neben der Nachricht im Dekorationsrahmen.</div></dd>
<dt>flags: </dt>
<dd><div class="text">
    [opt]
  Bitmaske zusätzlicher Optionen. Mögliche Werte:
			<table>
<thead><tr>
<th>Bit</th>
<th>Konstante</th>
<th>Beschreibung</th>
</tr></thead>
<tbody>
<tr>
<td>0</td>
<td>MSG_NoBreak</td>
<td>Wenn gesetzt, werden keine automatischen Zeilenumbruch bei langen Nachrichten eingefügt.</td>
</tr>
<tr class="dark">
<td>1</td>
<td>MSG_Bottom</td>
<td>Nur globale Nachrichten. Für Portraitnachrichten mit Dekorationsrahmen: Das Nachrichtenoffset gibt die Verschiebung zur unteren Bildschirmkante anstatt zur oberen Bildschirmkante an. Für nicht-Portraitnachrichten setzt das Flag die Nachricht etwas tiefer.</td>
</tr>
<tr>
<td>2</td>
<td>MSG_Multiple</td>
<td>Wenn gesetzt, werden vorherige Nachrichten des gleichen Typs nicht gelöscht.</td>
</tr>
<tr class="dark">
<td>3</td>
<td>MSG_Top</td>
<td>Nur globale Nachrichten. Für Portraitnachrichten mit Dekorationsrahmen: Das Nachrichtenoffset gibt die Verschiebung zur oberen Bildschirmkante an. Für nicht-Portraitnachrichten setzt das Flag die Nachricht etwas höher.</td>
</tr>
<tr>
<td>4</td>
<td>MSG_Left</td>
<td>Nur globale Nachrichten. Für Portraitnachrichten mit Dekorationsrahmen: Das Nachrichtenoffset gibt die Verschiebung zur linken Bildschirmkante an. Für nicht-Portraitnachrichten setzt das Flag die Nachricht etwas mehr nach links.</td>
</tr>
<tr class="dark">
<td>5</td>
<td>MSG_Right</td>
<td>Nur globale Nachrichten. Für Portraitnachrichten mit Dekorationsrahmen: Das Nachrichtenoffset gibt die Verschiebung zur rechten Bildschirmkante an. Für nicht-Portraitnachrichten setzt das Flag die Nachricht etwas mehr nach rechts.</td>
</tr>
<tr>
<td>6</td>
<td>MSG_HCenter</td>
<td>Nur globale Nachrichten. Die Nachricht wird auf mittlerer Bildschirmbreite angezeigt.</td>
</tr>
<tr class="dark">
<td>7</td>
<td>MSG_VCenter</td>
<td>Nur globale Nachrichten. Die Nachricht wird auf mittlerer Bildschirmhöhe angezeigt.</td>
</tr>
<tr>
<td>8</td>
<td>MSG_DropSpeech</td>
<td>Die Nachricht wird beim ersten Vorkommen des Zeichens '$' abgeschnitten.</td>
</tr>
<tr class="dark">
<td>9</td>
<td>MSG_WidthRel</td>
<td>iHSize gibt die Breite des Textes in Prozent zur relativen Größe des Viewports an. Nur bei globalen Nachrichten und Spielernachrichten.</td>
</tr>
<tr>
<td>10</td>
<td>MSG_XRel</td>
<td>offset_x gibt das X-Offset des Textes in Prozent zur relativen Größe des Viewports an. Nur bei globalen Nachrichten und Spielernachrichten. Empfohlene Werte: -50 bis +50.</td>
</tr>
<tr class="dark">
<td>11</td>
<td>MSG_YRel</td>
<td>offset_y gibt das y-Offset des Textes in Prozent zur relativen Größe des Viewports an. Nur bei globalen Nachrichten und Spielernachrichten. Empfohlene Werte: -70 bis +25.</td>
</tr>
</tbody>
</table>
</div></dd>
<dt>iHSize: </dt>
<dd><div class="text">
    [opt]
  Breite des Textes in Pixeln.</div></dd>
</dl>
<h2>Anmerkungen</h2>
<div class="text">Diese Funktion vereinigt die Funktionialitäten von <a href="../../../sdk/script/fn/Message.html">Message</a>, <a href="../../../sdk/script/fn/PlrMessage.html">PlrMessage</a> und <a href="../../../sdk/script/fn/PlayerMessage.html">PlayerMessage</a> und bietet zusätzliche Optionen an. Um in der Zukunft weitere Parameter einfügen zu können ohne eine neue Funktion zu erschaffen, enthält sie bewusst keine zusätzlichen Format-Parameter. Diese können über die Funktion <a href="../../../sdk/script/fn/Format.html">Format</a> erreicht werden.</div>
<div class="text">Es gelten die üblichen Nachrichtenformatierungen. Beginnt die Nachricht mit einem "@", so wird die Nachricht dauerhaft angezeigt bis sie durch eine andere ersetzt wird. Das Zeichen "|" steht für einen Zeilenumbruch. Es können Nachrichtenformatierungen mit den Tags &lt;i&gt; (kursiv) und &lt;c&gt; (farbig) genutzt werden.</div>
<div class="text">Nachrichten werden grundsätzlich angezeigt, bis eine von der Nachrichtenlänge abhängige Zeit vergangen ist oder sie durch eine zweite Nachricht gleicher Klasse ersetzt werden. Eine globale Nachricht (d.h. obj=0) ersetzt alle anderen globalen Nachrichten, und eine Objektnachricht (obj!=0) ersetzt alle anderen Objektnachrichten. Um mehrere Nachrichten gleicher Klasse anzuzeigen, sollte das Flag MSG_Multiple verwendet werden.</div>
<h2>Beispiele</h2>
			<div class="example">
				<pre class="code">CustomMessage(<i class="string">"This is &lt;i&gt;madness&lt;/i&gt;!"</i>);</pre>
				<div class="text">Gibt die Nachricht "This is madness!" nur für Spieler 0 aus, wobei das Wort "madness" in kursiver Schrift angezeigt wird.</div>
			</div>
			<div class="example">
				<pre class="code">CustomMessage(<i class="string">"&lt;c ffff00&gt;Tonki:&lt;/c&gt; Hello, world"</i>, 0, NO_OWNER, 100,100, 0, MD69, <i class="string">"Portrait:CLNK::00ff00::1);"</i></pre>
				<div class="text">Gibt eine Nachricht mit Dekorahmen aus. Der Name Tonki ist gelb eingefärbt. Links von der Nachricht wird ein grünes Clonk-Portrait angezeigt. Es muss die Dekorationsdefinition MD69 geladen sein.</div>
			</div>
		<div class="text">
<b>Siehe auch: </b><a href="../../../sdk/script/fn/AddMessage.html">AddMessage</a>, <a href="../../../sdk/script/fn/Message.html">Message</a>, <a href="../../../sdk/script/fn/PlayerMessage.html">PlayerMessage</a>, <a href="../../../sdk/script/fn/PlrMessage.html">PlrMessage</a>
</div>
<div class="author">Sven2, Juli 2008</div>
<?php 
  pwn_body(basename (dirname(__FILE__)) . basename(__FILE__,".html"), $_SERVER['SCRIPT_NAME']);
?><ul class="nav">
<li class="fineprint">Clonk Entwicklermodus Dokumentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_en_sml.gif" alt="English" border="0"></a></li>
<li><a href="../../../sdk/index.html">Einleitung</a></li>
<li><a href="../../../content.html">Inhalt</a></li>
<li><a href="../../../search.php">Suche</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Kommandozeile</a></li>
<li><a href="../../../sdk/files.html">Spieldaten</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
</body>
</html>
