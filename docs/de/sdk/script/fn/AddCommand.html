<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="../../../doku.css">
<title>AddCommand</title>
<?php 
  $g_page_language = 'german';
  require_once('../../../../webnotes/core/api.php');
  pwn_head();
?><script type="text/javascript">
  function switchLanguage() {
    var loc = window.location.href;
    if (loc.match(/\/en\//)) loc = loc.replace(/\/en\//, "/de/");
    else loc = loc.replace(/\/de\//, "/en/");
    window.location = loc;
  }
</script>
</head>
<body>
<ul class="nav">
<li class="fineprint">Clonk Entwicklermodus Dokumentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_en_sml.gif" alt="English" border="0"></a></li>
<li><a href="../../../sdk/index.html">Einleitung</a></li>
<li><a href="../../../content.html">Inhalt</a></li>
<li><a href="../../../search.php">Suche</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Kommandozeile</a></li>
<li><a href="../../../sdk/files.html">Spieldaten</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
<h1 id="AddCommand">AddCommand</h1>
<div class="text">
<b>Kategorie: </b>Objekte
    / Commands<br><b>Ab Engineversion: </b>4.6.5.0 CP
        (erweitert ab 4.9.1.0 GWE)
      
        (erweitert ab 4.9.5.0 CE)
      </div>
<h2>Beschreibung</h2>
<div class="text">Fügt ein Kommado in die Kommandoliste eines Objekts hinzu (an den Anfang, siehe auch <a href="../../../sdk/script/fn/AppendCommand.html">AppendCommand</a>). D.h. es wird ein Kommando hinzugefügt, welches das Objekt vor anderen vorher gegebenen Kommandos auszuführen hat (war vorher kein Kommando gesetzt, so entspricht AddCommand <a href="../../../sdk/script/fn/SetCommand.html">SetCommand</a>) <br>
          Für Kommando-Beschreibungen siehe <a href="../../../sdk/script/fn/SetCommand.html">SetCommand</a>
	</div>
<h2>Syntax</h2>
<div class="text fnsyntax">
<span class="type">bool</span> AddCommand
      (<span class="type">object</span> pObj, <span class="type">string</span> szCommand, <span class="type">object</span> pTarget, <span class="type">int</span> iX, <span class="type">int</span> iY, <span class="type">object</span> pTarget2, <span class="type">int</span> iInterval, <span class="type">any</span> Data, <span class="type">int</span> iRetries, <span class="type">int</span> iBaseMode);
    </div>
<h2>Parameter</h2>
<dl>
<dt>pObj: </dt>
<dd><div class="text">Objekt, dem das Kommando gegeben wird.</div></dd>
<dt>szCommand: </dt>
<dd><div class="text">Kommandoname (als String). Siehe untere Tabelle </div></dd>
<dt>pTarget: </dt>
<dd><div class="text">
    [opt]
  Zielobjekt für Aktion</div></dd>
<dt>iX: </dt>
<dd><div class="text">
    [opt]
  X-Zielkoordinate</div></dd>
<dt>iY: </dt>
<dd><div class="text">
    [opt]
  Y-Zielkoordinate</div></dd>
<dt>pTarget2: </dt>
<dd><div class="text">
    [opt]
  zweites Zielobjekt</div></dd>
<dt>iInterval: </dt>
<dd><div class="text">
    [opt]
  Zeit (in Ticks/Frames), bis das Kommando abgebrochen wird (es wird dann mit dem nachsten in der Kommandoliste fortgesetzt)</div></dd>
<dt>Data: </dt>
<dd><div class="text">
    [opt]
  zusätzliche Daten zur Aktion</div></dd>
<dt>iRetries: </dt>
<dd><div class="text">
    [opt]
  Anzahl der Wiederholungen (wenn das Kommando fehlschlägt), bis das Kommando abgebrochen wird.</div></dd>
<dt>iBaseMode: </dt>
<dd><div class="text">
    [opt]
  Bestimmt, wie beim Fehlschlag des Commands verfahren wird.<br><br>
            <table>
<thead><tr>
<th>iBaseMode</th>
<th>Name</th>
<th>Beschreibung</th>
<th>Fehlschlagsmeldung und CallFailed-Aufrufe</th>
<th>Nächster Befehl</th>
</tr></thead>
<tbody>
<tr>
<td>0</td>
<td>C4CMD_SilentSub</td>
<td>Stiller Unterbefehl</td>
<td>Nur wenn dies der letzte Befehl ist</td>
<td>Schlägt fehl</td>
</tr>
<tr class="dark">
<td>3</td>
<td>C4CMD_Sub</td>
<td>Unterbefehl</td>
<td>Wenn der nächste Befehl keine Wiederholungen mehr hat oder dies der letzte Befehl ist</td>
<td>Schlägt fehl</td>
</tr>
<tr>
<td>2</td>
<td>C4CMD_SilentBase</td>
<td>Stiller Basisbefehl</td>
<td>Nie</td>
<td>Schlägt nicht fehl</td>
</tr>
<tr class="dark">
<td>1</td>
<td>C4CMD_Base</td>
<td>Basisbefehl</td>
<td>Immer</td>
<td>Schlägt nicht fehl</td>
</tr>
</tbody>
</table>
          </div></dd>
</dl>
<h2>Anmerkung</h2>
<div class="text">
          Mit AddCommand hinzugefügte Befehle werden nicht an gesteuerte Fahrzeuge weitergeleitet (siehe VehicleControl)
    </div>
<h2>Beispiel</h2>
      <div class="example">
        <pre class="code">Timer:
  <b>var</b> obj = <a href="../../../sdk/script/fn/FindObject.html">FindObject</a>(0, -20, -40, 40, 40, <a href="../../../sdk/script/fn/OCF_CrewMember.html">OCF_CrewMember</a>();
  <b>if</b>(obj)
    <b>if</b>(<a href="../../../sdk/script/fn/GetComDir.html">GetComDir</a>(obj) == <a href="../../../sdk/script/fn/COMD_Right.html">COMD_Right</a>())
      <a href="../../../sdk/script/fn/AddCommand.html">AddCommand</a>(obj, <i class="string">"Jump"</i>);
  <b>return</b>();</pre>
        <div class="text">
Dieser Timer-Script bewirkt (aus einem Objekt aufgerufen, welches auf dem Boden liegt), dass jeder Clonk, der über das Objekt von links nach rechts hinübergeht, springt. Dazu wird erst ein Clonk (bzw. CrewMember) über dem Objekt gesucht. Wurde ein solcher gefunden, und läuft er im Moment nach rechts (ComDir), so wird dem Clonk das Kommando "Jump" hinzugefügt.
Das besondere an dem Script ist, dass die alte Befehlskette nicht angetastet wird; der Clonk wird nachdem er gesprungen hat seine Befehlskette weiter verarbeiten.<br>
Mithilfe dieses Script kann man einem Clonk z.B. beibringen, an einer bestimmten Stelle automatisch über einen Abgrund zu hüpfen.
        </div>
      </div>
    <div class="text">
<b>Siehe auch: </b><a href="../../../sdk/script/fn/AppendCommand.html">AppendCommand</a>, <a href="../../../sdk/script/fn/FinishCommand.html">FinishCommand</a>, <a href="../../../sdk/script/fn/GetCommand.html">GetCommand</a>, <a href="../../../sdk/script/fn/PlayerObjectCommand.html">PlayerObjectCommand</a>, <a href="../../../sdk/script/fn/SetCommand.html">SetCommand</a>
</div>
<div class="author">PeterW, November 2001</div>
<div class="author">Günther, Januar 2005</div>
<?php 
  pwn_body(basename (dirname(__FILE__)) . basename(__FILE__,".html"), $_SERVER['SCRIPT_NAME']);
?><ul class="nav">
<li class="fineprint">Clonk Entwicklermodus Dokumentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_en_sml.gif" alt="English" border="0"></a></li>
<li><a href="../../../sdk/index.html">Einleitung</a></li>
<li><a href="../../../content.html">Inhalt</a></li>
<li><a href="../../../search.php">Suche</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Kommandozeile</a></li>
<li><a href="../../../sdk/files.html">Spieldaten</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
</body>
</html>
