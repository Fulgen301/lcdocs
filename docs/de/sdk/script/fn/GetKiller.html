<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="../../../doku.css">
<title>GetKiller</title>
<?php 
  $g_page_language = 'german';
  require_once('../../../../webnotes/core/api.php');
  pwn_head();
?><script type="text/javascript">
  function switchLanguage() {
    var loc = window.location.href;
    if (loc.match(/\/en\//)) loc = loc.replace(/\/en\//, "/de/");
    else loc = loc.replace(/\/de\//, "/en/");
    window.location = loc;
  }
</script>
</head>
<body>
<ul class="nav">
<li class="fineprint">Clonk Entwicklermodus Dokumentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_en_sml.gif" alt="English" border="0"></a></li>
<li><a href="../../../sdk/index.html">Einleitung</a></li>
<li><a href="../../../content.html">Inhalt</a></li>
<li><a href="../../../search.php">Suche</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Kommandozeile</a></li>
<li><a href="../../../sdk/files.html">Spieldaten</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
<h1 id="GetKiller">GetKiller</h1>
<div class="text">
<b>Kategorie: </b>Objekte
    / Status<br><b>Ab Engineversion: </b>4.9.6.0 CR</div>
<h2>Beschreibung</h2>
<div class="text">Liefert den Spieler, der zuletzt Energieabzug an einem Objekt verursacht hat.</div>
<h2>Syntax</h2>
<div class="text fnsyntax">
<span class="type">int</span> GetKiller
      (<span class="type">object</span> pObj);
    </div>
<h2>Parameter</h2>
<dl>
<dt>pObj: </dt>
<dd><div class="text">
    [opt]
  Abzufragendes Objekt. 0 bei lokalem Aufruf.</div></dd>
</dl>
<h2>Anmerkung</h2>
<div class="text">Aufgrund der Komplexität der Spielwelt von Clonk ist es nicht immer möglich, den tatsächlichen Schadensverursacher in Kettenreaktionen korrekt ausfindig zu machen.
			Zur Schadensverfolgung speichert jedes Objekt einen steuernden Spieler, der die Spielernummer des Spielers angibt, der ein Objekt zuletzt kontrolliert bzw. geworfen, geschoben, abgeschossen, etc. hat (für Details siehe <a href="../../../sdk/script/fn/GetController.html">GetController</a>). Dieses Feld wird benutzt, um den Schaden erzeugenden Spieler zu ermitteln:<br>
			<ul>
<li>Bei Objekttreffern der steuernde Spieler des geworfenen Objektes. Dieser wird für Gegenstände automatisch beim Einsammeln gesetzt.</li>
			<li>Bei Clonk-zu-Clonk-Kämpfen gilt direkt der steuernde Spieler des Kampfgegners als Schadensverursacher. Das ist im Normalfall der Besitzer.</li>
			<li>Bei Feuer gilt der Controller des ursprünglichen Verursachers des Feuers, also dem aufrufenden Objekt in <a href="../../../sdk/script/fn/Incinerate.html">Incinerate</a>()-Aufrufen. Der Verursacher wird durch die Entzündketten weitergetragen, unabhängig von Besitzern oder steuernden Spielern der brennenden Objekte. Zündet also zum Beispiel Spieler A einen Clonk von Spieler B an und selbiger entzündet einen Clonk von Spieler C, so gelten beide Feuer als von Spieler A verursacht.</li>
</ul>
			Der Schadensverursacher eines Clonks wird aumatisch auf NO_OWNER (kein Spieler) zurück gesetzt, wenn der Clonk eine Aktivität ausführt, für die nicht ObjectDisabled=1 gesetzt ist (zum Beispiel "Walk").<br>
			Selbst verursachter Schaden setzt das Feld nur dann auf den eigenen Spieler, wenn es vorher NO_OWNER war. Das verhindert, dass ein Spieler durch schnellen Selbstmord anderen Spielern Punkte wegnehmen kann. Wenn man unten herausfällt, gilt also derjenige als Mörder, der zuletzt Schaden verursacht hat. Wurde der Clonk mit einem Steintreffer herunter geschleudert, gilt in dem Fall der Steinwerfer.
		</div>
<h2>Beispiel</h2>
			<div class="example">
				<pre class="code"><b>protected</b> <b>func</b> Death()
{
	<b>var</b> iKiller = GetKiller();
	<b>if</b> (iKiller == <a href="../../../sdk/script/fn/GetController.html">GetController</a>()) <a href="../../../sdk/script/fn/Message.html">Message</a>(<i class="string">"%s hat sich selbst umgebracht."</i>, <a href="../../../sdk/script/fn/this.html">this</a>(), <a href="../../../sdk/script/fn/GetName.html">GetName</a>());
	<b>else</b> <b>if</b> (iKiller &gt; NO_OWNER) <a href="../../../sdk/script/fn/Message.html">Message</a>(<i class="string">"%s wurde von %s geplättet!"</i>, <a href="../../../sdk/script/fn/this.html">this</a>(), <a href="../../../sdk/script/fn/GetName.html">GetName</a>(), <a href="../../../sdk/script/fn/GetPlayerName.html">GetPlayerName</a>(iKiller));
	<b>else</b> <a href="../../../sdk/script/fn/DeathAnnounce.html">DeathAnnounce</a>();
	<a href="../../../sdk/script/fn/return.html">return</a>(<b>true</b>);
}</pre>
				<div class="text">Script für den Tod eines Clonks: Anstatt der normalen Todesnachricht richtet sich die Nachricht danach, wer den Clonk getötet hat.</div>
			</div>
		<div class="text">
<b>Siehe auch: </b><a href="../../../sdk/script/fn/DoEnergy.html">DoEnergy</a>, <a href="../../../sdk/script/fn/GetController.html">GetController</a>, <a href="../../../sdk/script/fn/GetOwner.html">GetOwner</a>, <a href="../../../sdk/script/fn/SetController.html">SetController</a>, <a href="../../../sdk/script/fn/SetKiller.html">SetKiller</a>
</div>
<div class="author">Sven2, April 2007</div>
<?php 
  pwn_body(basename (dirname(__FILE__)) . basename(__FILE__,".html"), $_SERVER['SCRIPT_NAME']);
?><ul class="nav">
<li class="fineprint">Clonk Entwicklermodus Dokumentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_en_sml.gif" alt="English" border="0"></a></li>
<li><a href="../../../sdk/index.html">Einleitung</a></li>
<li><a href="../../../content.html">Inhalt</a></li>
<li><a href="../../../search.php">Suche</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Kommandozeile</a></li>
<li><a href="../../../sdk/files.html">Spieldaten</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
</body>
</html>
