<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="../../../doku.css">
<title>DoMagicEnergy</title>
<?php 
  $g_page_language = 'english';
  require_once('../../../../webnotes/core/api.php');
  pwn_head();
?><script type="text/javascript">
  function switchLanguage() {
    var loc = window.location.href;
    if (loc.match(/\/en\//)) loc = loc.replace(/\/en\//, "/de/");
    else loc = loc.replace(/\/de\//, "/en/");
    window.location = loc;
  }
</script>
</head>
<body>
<ul class="nav">
<li class="fineprint">Clonk Developer Mode Documentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_de_sml.gif" alt="German" border="0"></a></li>
<li><a href="../../../sdk/index.html">Introduction</a></li>
<li><a href="../../../content.html">Contents</a></li>
<li><a href="../../../search.php">Search</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Command Line</a></li>
<li><a href="../../../sdk/files.html">Game Data</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
<h1 id="DoMagicEnergy">DoMagicEnergy</h1>
<div class="text">
<b>Category: </b>Objects
    / Status<br><b>Since engine version: </b>4.6.5.0 CP
        (extended in 4.9.6.0 CR)
      </div>
<h2>Description</h2>
<div class="text">Adjusts the magic value of an object. The change is only performed as a whole - if the specified change would pass the upper or lower physical limit of the object, it is not performed and the function returns false. The effect is that with only one call you can make a change and check whether the change is even possible.</div>
<h2>Syntax</h2>
<div class="text fnsyntax">
<span class="type">bool</span> DoMagicEnergy
      (<span class="type">int</span> iChange, <span class="type">object</span> pObj, <span class="type">bool</span> fAllowPartial);
    </div>
<h2>Parameters</h2>
<dl>
<dt>iChange: </dt>
<dd><div class="text">Change of magic value (positive or negative)</div></dd>
<dt>pObj: </dt>
<dd><div class="text">
    [opt]
  Object of which to change the magic value. Can be 0 in local calls.</div></dd>
<dt>fAllowPartial: </dt>
<dd><div class="text">
    [opt]
  If true, the function will also transfer magical energy partially instead of failing. In this case, the function will only fail if the magical energy is not changed at all. Since CR.</div></dd>
</dl>
<h2>Example</h2>
			<div class="example">
				<pre class="code"><a href="../../../sdk/script/fn/if.html">if</a> (DoMagicEnergy(-10)) <a href="../../../sdk/script/fn/ObjectCall.html">ObjectCall</a>(<a href="../../../sdk/script/fn/CreateObject.html">CreateObject</a>(MLGT,0,0,<a href="../../../sdk/script/fn/GetOwner.html">GetOwner</a>()), <i class="string">"Activate"</i>, <a href="../../../sdk/script/fn/this.html">this</a>());</pre>
				<div class="text">Casts a lightning spell if enough magic energy is available.</div>
			</div>
		<div class="text">
<b>See also: </b><a href="../../../sdk/script/fn/GetMagicEnergy.html">GetMagicEnergy</a>
</div>
<div class="author">Sven2, November 2001</div>
<?php 
  pwn_body(basename (dirname(__FILE__)) . basename(__FILE__,".html"), $_SERVER['SCRIPT_NAME']);
?><ul class="nav">
<li class="fineprint">Clonk Developer Mode Documentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_de_sml.gif" alt="German" border="0"></a></li>
<li><a href="../../../sdk/index.html">Introduction</a></li>
<li><a href="../../../content.html">Contents</a></li>
<li><a href="../../../search.php">Search</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Command Line</a></li>
<li><a href="../../../sdk/files.html">Game Data</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
</body>
</html>
