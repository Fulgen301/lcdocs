<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="../../../doku.css">
<title>GetValue</title>
<?php 
  $g_page_language = 'english';
  require_once('../../../../webnotes/core/api.php');
  pwn_head();
?><script type="text/javascript">
  function switchLanguage() {
    var loc = window.location.href;
    if (loc.match(/\/en\//)) loc = loc.replace(/\/en\//, "/de/");
    else loc = loc.replace(/\/de\//, "/en/");
    window.location = loc;
  }
</script>
</head>
<body>
<ul class="nav">
<li class="fineprint">Clonk Developer Mode Documentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_de_sml.gif" alt="German" border="0"></a></li>
<li><a href="../../../sdk/index.html">Introduction</a></li>
<li><a href="../../../content.html">Contents</a></li>
<li><a href="../../../search.php">Search</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Command Line</a></li>
<li><a href="../../../sdk/files.html">Game Data</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
<h1 id="GetValue">GetValue</h1>
<div class="text">
<b>Category: </b>Objects
    / Status<br><b>Since engine version: </b>4.6.5.0 CP
        (extended in 4.9.1.0 GWE)
      </div>
<h2>Description</h2>
<div class="text">Determines the value of an object. With idDef specified, the standard value of the original object definition is returned, otherwise the current value of the specified object (pObj) or the calling object if pObj is 0.<br>An object's value is determined as follows: with pObj specified it is first checked whether the CalcValue function is defined in the object's script and if so, it is evaluated. Otherwise, the definition value is used (see below). The resulting value is then reduced according to the object's completion.<br>Dead animals or clonks always have value 0.<br>The definition value is determined as follows: if the function CalcDefValue is defined in the definition script, it is evaluated. Otherwise, the value overload from Scenario.txt is used, if present. Otherwise, the standard value from DefCore is used.<br>
</div>
<h2>Syntax</h2>
<div class="text fnsyntax">
<span class="type">int</span> GetValue
      (<span class="type">object</span> pObj, <span class="type">id</span> idDef, <span class="type">object</span> pBase, <span class="type">int</span> iForPlayer);
    </div>
<h2>Parameters</h2>
<dl>
<dt>pObj: </dt>
<dd><div class="text">
    [opt]
  Object of which to request a value. 0 if a local call or if idDef is specified.</div></dd>
<dt>idDef: </dt>
<dd><div class="text">
    [opt]
  If specified: the definition of which to request the standard value. Otherwise the given object is evaluated.</div></dd>
<dt>pBase: </dt>
<dd><div class="text">
    [opt]
  Home base in which to buy. If the CalcValue function is defined in pObj, the return value of CalcValue is used.</div></dd>
<dt>iForPlayer: </dt>
<dd><div class="text">
    [opt]
  Player to whom the value applies. If the CalcValue function is defined in pObj, the return value of CalcValue is used in this case also.</div></dd>
</dl>
<h2>Remark</h2>
<div class="text">The two parameters pBase and iForPlayer are designed for use in special trading in individual scenarios and are only processed by CalcValue/CalcDefValue calls.</div>
<h2>Example</h2>
			<div class="example">
<pre class="code"><b>var</b> iValue=GetValue();
<a href="../../../sdk/script/fn/while.html">while</a> (iValue--&gt;0) <a href="../../../sdk/script/fn/CreateContents.html">CreateContents</a>(ROCK);
<a href="../../../sdk/script/fn/RemoveObject.html">RemoveObject</a>(0, 1);</pre>
				<div class="text">Object script: the object creates as many rocks as it is worth and then self-destructs (expelling the rocks).</div>
			</div>
		<div class="text">
<b>See also: </b><a href="../../../sdk/script/fn/GetWealth.html">GetWealth</a>, <a href="../../../sdk/script/fn/SetWealth.html">SetWealth</a>
</div>
<div class="author">Sven2, März 2003</div>
<?php 
  pwn_body(basename (dirname(__FILE__)) . basename(__FILE__,".html"), $_SERVER['SCRIPT_NAME']);
?><ul class="nav">
<li class="fineprint">Clonk Developer Mode Documentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_de_sml.gif" alt="German" border="0"></a></li>
<li><a href="../../../sdk/index.html">Introduction</a></li>
<li><a href="../../../content.html">Contents</a></li>
<li><a href="../../../search.php">Search</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Command Line</a></li>
<li><a href="../../../sdk/files.html">Game Data</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
</body>
</html>
