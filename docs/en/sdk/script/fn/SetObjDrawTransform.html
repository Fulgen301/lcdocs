<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="../../../doku.css">
<title>SetObjDrawTransform</title>
<?php 
  $g_page_language = 'english';
  require_once('../../../../webnotes/core/api.php');
  pwn_head();
?><script type="text/javascript">
  function switchLanguage() {
    var loc = window.location.href;
    if (loc.match(/\/en\//)) loc = loc.replace(/\/en\//, "/de/");
    else loc = loc.replace(/\/de\//, "/en/");
    window.location = loc;
  }
</script>
</head>
<body>
<ul class="nav">
<li class="fineprint">Clonk Developer Mode Documentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_de_sml.gif" alt="German" border="0"></a></li>
<li><a href="../../../sdk/index.html">Introduction</a></li>
<li><a href="../../../content.html">Contents</a></li>
<li><a href="../../../search.php">Search</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Command Line</a></li>
<li><a href="../../../sdk/files.html">Game Data</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
<h1 id="SetObjDrawTransform">SetObjDrawTransform</h1>
<div class="text">
<b>Category: </b>Objects
    / Display<br><b>Since engine version: </b>4.9.5.0 CE</div>
<h2>Description</h2>
<div class="text">Transforms the image of the specified object.</div>
<h2>Syntax</h2>
<div class="text fnsyntax">
<span class="type">bool</span> SetObjDrawTransform
      (<span class="type">int</span> iWidth, <span class="type">int</span> iXSkew, <span class="type">int</span> iXAdjust, <span class="type">int</span> iYSkew, <span class="type">int</span> iHeight, <span class="type">int</span> iYAdjust, <span class="type">object</span> pObj, <span class="type">int</span> iOverlayID);
    </div>
<h2>Parameters</h2>
<dl>
<dt>iWidth: </dt>
<dd><div class="text">Width of the image. Original width is 1000. A negative value means horizontal mirroring. The image is always centered.</div></dd>
<dt>iXSkew: </dt>
<dd><div class="text">Horizontal skew of the image: 0 means no skewing. 1000 yields a 45° offset of the horizontal edges (top edge to the left, bottom edge to the right). Negative values yield an offset into the opposite direction.</div></dd>
<dt>iXAdjust: </dt>
<dd><div class="text">Horizontal image offset. Value 1000 moves the image one pixel to the right. Negative values move the image to the left. This means you can also move the image by fractions of a pixel.</div></dd>
<dt>iYSkew: </dt>
<dd><div class="text">Vertical skew of the image: 0 means no skewing. 1000 yields a 45° offset of the vertical edges (left edge up, right edge down). Negative values yield an offset into the opposite direction.</div></dd>
<dt>iHeight: </dt>
<dd><div class="text">Height of the image. Original height is 1000. A negative value means vertical mirroring. The image is always centered.</div></dd>
<dt>iYAdjust: </dt>
<dd><div class="text">Vertical image offset. Value 1000 moves the image one pixel down. Negative values move the image up. This means you can also move the image by fractions of a pixel.</div></dd>
<dt>pObj: </dt>
<dd><div class="text">Object for which you want to perform an image transformation. Can be 0 in local calls.</div></dd>
<dt>iOverlayID: </dt>
<dd><div class="text">ID of the overlay the transform of which you want to adjust. Value 0 (default) indicates the main image (not an overlay).</div></dd>
</dl>
<h2>Remark</h2>
<div class="text">As there are no floating-point values in Clonk, all values are per thousand (1000 = 1 = 100%). This allows specifiying fractions of one.</div>
<h2>Examples</h2>
			<div class="example">
				<pre class="code">SetObjDrawTransform(1000,0,0,0,1000,0);</pre>
				<div class="text">Resets all transformation.</div>
			</div>
			<div class="example">
				<pre class="code"><b>global</b> <b>func</b> SetDTRotation (<b>int</b> r, <b>int</b> xoff, <b>int</b> yoff, <b>object</b> obj) {
  <b>var</b> fsin=Sin(r, 1000), fcos=Cos(r, 1000);
  <i>// set matrix values
</i>  SetObjDrawTransform (
    +fcos, +fsin, (1000-fcos)*xoff - fsin*yoff,
    -fsin, +fcos, (1000-fcos)*yoff + fsin*xoff,
    obj
  );
}</pre>
				<div class="text">Rotates the image of the object without rotating the actual object (i.e. vertices and other interactive elements stay where they are).</div>
			</div>
			<div class="example">
				<pre class="code">SetObjDrawTransform(1000,0,0,0,-1000,0,<a href="../../../sdk/script/fn/GetHiRank.html">GetHiRank</a>(0));</pre>
				<div class="text">Turns the image of the player's highest ranking clonk upside down.</div>
			</div>
			<div class="example">
				<pre class="code">SetObjDrawTransform(500,0,0,0,500,GetDefHeight(GetID())*1000/4);</pre>
				<div class="text">Reduces the image of the object by 50% and moves the bottom edge of the reduced image to the bottom edge of the object: if you use this to reduce the image of a tree, the reduced tree will not float in mid-air but will properly rest with its roots on the ground).</div>
			</div>
		<div class="author">Clonkonaut, Mai 2008</div>
<?php 
  pwn_body(basename (dirname(__FILE__)) . basename(__FILE__,".html"), $_SERVER['SCRIPT_NAME']);
?><ul class="nav">
<li class="fineprint">Clonk Developer Mode Documentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_de_sml.gif" alt="German" border="0"></a></li>
<li><a href="../../../sdk/index.html">Introduction</a></li>
<li><a href="../../../content.html">Contents</a></li>
<li><a href="../../../search.php">Search</a></li>
<li><a href="../../../sdk/console.html">Engine</a></li>
<li><a href="../../../sdk/cmdline.html">Command Line</a></li>
<li><a href="../../../sdk/files.html">Game Data</a></li>
<li><a href="../../../sdk/script/index.html">Script</a></li>
</ul>
</body>
</html>
