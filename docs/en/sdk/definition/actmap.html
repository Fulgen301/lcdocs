<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rel="stylesheet" type="text/css" href="../../doku.css">
<title>ActMap.txt</title>
<?php 
  $g_page_language = 'english';
  require_once('../../../webnotes/core/api.php');
  pwn_head();
?><script type="text/javascript">
  function switchLanguage() {
    var loc = window.location.href;
    if (loc.match(/\/en\//)) loc = loc.replace(/\/en\//, "/de/");
    else loc = loc.replace(/\/de\//, "/en/");
    window.location = loc;
  }
</script>
</head>
<body>
<ul class="nav">
<li class="fineprint">Clonk Developer Mode Documentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_de_sml.gif" alt="German" border="0"></a></li>
<li><a href="../../sdk/index.html">Introduction</a></li>
<li><a href="../../content.html">Contents</a></li>
<li><a href="../../search.php">Search</a></li>
<li><a href="../../sdk/console.html">Engine</a></li>
<li><a href="../../sdk/cmdline.html">Command Line</a></li>
<li><a href="../../sdk/files.html">Game Data</a></li>
<li><a href="../../sdk/script/index.html">Script</a></li>
</ul>

<h1 id="ActMap">ActMap</h1>
<div class="text">The ActMap.txt-component describes possible actions (i.e., activities like walking and scaling for clonks; or opening/closing doors of buildings), of an object. The animation phases of each activity are placed as adjacent images in the Graphics.png (and/or Overlay.png/Graphics.bmp). These animations are being referenced using image coordinates in the ActMap.txt. Animations may be started by script (see <a href="../../sdk/script/fn/SetAction.html">SetAction</a>) or directly by the engine. Some activities - especially those of clonks and animals - use an engine-intrenal <a href="../../sdk/definition/procedures.html">procedure</a>, which controls the movement of an object while such an activity is set.</div>
<div class="text">
<table>
<caption id="BeliebigvieleSektionenAction">Any number of sections [Action]</caption>
<thead><tr>
<th>Value</th>
<th>Data type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td>Name</td>
<td>String (max. 30 chars)</td>
<td>Name of the activity. See <a href="../../sdk/script/fn/SetAction.html">SetAction</a>().</td>
</tr>
<tr class="dark">
<td>Procedure</td>
<td>String (max. 30 chars)</td>
<td>Internal standard procedure. See <a href="../../sdk/definition/procedures.html">Procedures</a>.</td>
</tr>
<tr>
<td>Directions</td>
<td>Integer</td>
<td>Number of animation directions. Animation directions are arranged vertically in Graphics.png.</td>
</tr>
<tr class="dark">
<td>FlipDir</td>
<td>Integer</td>
<td>If nonzero, this value specifies the first animation phase that is produced by mirroring one of the previous animation directions. If this value is 1, graphics of direction 1 (DIR_Right) will be drawn as a horizontally mirrored graphics of direction 0 (DIR_Left) (see clonks). If it is 7, any directions n &gt;= 7 will be drawn using the mirrored graphics of directions 6 - n, i.e. higher direction values will be drawn using the mirrored graphics in reverse orders (cf. banner in the knights pack).</td>
</tr>
<tr>
<td>Length</td>
<td>Integer</td>
<td>Number of animation phases for this activity (arranged horizontally in Graphics.png)</td>
</tr>
<tr class="dark">
<td>Reverse</td>
<td>Integer</td>
<td>0 or 1. If 1, the animation phases will be shown in reverse order.</td>
</tr>
<tr>
<td>Delay</td>
<td>Integer</td>
<td>Time difference in frames (ticks) between two animation phases.</td>
</tr>
<tr class="dark">
<td>Step</td>
<td>Integer</td>
<td>Step count in graphics per action step. Example: A value of 2 will skip one frame for each step, 3 will skip 2, etc. Default 1.</td>
</tr>
<tr>
<td>Attach</td>
<td>Integer</td>
<td>Attachment to surfaces: <a href="../../sdk/definition/cnat.html">CNAT Value</a>, e.g. value 8 if the object should attach to the floor like a walking clonk does; or 4 for attachment to the ceiling like a hangling clonk. Only evaluated if the procedure is NONE.</td>
</tr>
<tr class="dark">
<td>Facet</td>
<td>6 integers</td>
<td>Animation graphics: Target rectangle from Graphics.png relative to upper left corner of unrotated object shape.</td>
</tr>
<tr>
<td>FacetBase</td>
<td>Integer</td>
<td>0 or 1. If 1, the default facet (i.e., the facet shown if the object has no action) will be drawn behind the action facet.</td>
</tr>
<tr class="dark">
<td>FacetTopFace</td>
<td>Integer</td>
<td>0 or 1. If 1, the TopFace (see <a href="../../sdk/definition/defcore.html">DefCore.txt</a>) will be drawn using the animated facet.</td>
</tr>
<tr>
<td>FacetTargetStretch</td>
<td>Boolean</td>
<td>0 or 1. If 1, the graphics will be stretched down towards the upper border of the ActionTarget. Used e.g. for the elevator line.</td>
</tr>
<tr class="dark">
<td>NextAction</td>
<td>String (max. 30 chars)</td>
<td>Next action being set after the current one has reached its end.</td>
</tr>
<tr>
<td>TurnAction</td>
<td>String (max. 30 chars)</td>
<td>Action set when changing direction.</td>
</tr>
<tr class="dark">
<td>NoOtherAction</td>
<td>Integer</td>
<td>0 or 1. If 1, no other action can be set after this one (used e.g. for death or destruction).</td>
</tr>
<tr>
<td>StartCall</td>
<td>String (max. 30 chars)</td>
<td>Object script function which is called when the activity is started.</td>
</tr>
<tr class="dark">
<td>EndCall</td>
<td>String (max. 30 chars)</td>
<td>Called when an activity reaches the end of its animation.</td>
</tr>
<tr>
<td>PhaseCall</td>
<td>String (max. 30 chars)</td>
<td>Called whenever the animation phase changes.</td>
</tr>
<tr class="dark">
<td>AbortCall</td>
<td>String (max. 30 chars)</td>
<td>Called if an activity is being replaced by another before its regular end; i.e. not by a transition through NextAction.</td>
</tr>
<tr>
<td>InLiquidAction</td>
<td>String (max. 30 chars)</td>
<td>Action to be set if the object plunges into water.</td>
</tr>
<tr class="dark">
<td>Sound</td>
<td>String (max. 30 chars)</td>
<td>Permanent sound being played during this action.</td>
</tr>
<tr>
<td>ObjectDisabled</td>
<td>Integer</td>
<td>0 or 1. Restricted control of the object during this action.</td>
</tr>
<tr class="dark">
<td>DigFree</td>
<td>Integer</td>
<td>Area that is dug free during this action. If 1, the area covered by the object shape is freed (like the elevator case); otherwise, the value is taken as the radius of a circular area (like a digging Clonk).</td>
</tr>
<tr>
<td>EnergyUsage</td>
<td>Integer</td>
<td>Energy required for this action. Normal machines should use about 500.</td>
</tr>
</tbody>
</table>
</div>
<div class="author">Sven2, April 2002</div>
<div class="author">matthes, Juni 2004</div>
<?php 
  pwn_body(basename (dirname(__FILE__)) . basename(__FILE__,".html"), $_SERVER['SCRIPT_NAME']);
?><ul class="nav">
<li class="fineprint">Clonk Developer Mode Documentation</li>
<li class="switchlang"><a href="javascript:switchLanguage()"><img src="/deco/dco_de_sml.gif" alt="German" border="0"></a></li>
<li><a href="../../sdk/index.html">Introduction</a></li>
<li><a href="../../content.html">Contents</a></li>
<li><a href="../../search.php">Search</a></li>
<li><a href="../../sdk/console.html">Engine</a></li>
<li><a href="../../sdk/cmdline.html">Command Line</a></li>
<li><a href="../../sdk/files.html">Game Data</a></li>
<li><a href="../../sdk/script/index.html">Script</a></li>
</ul>
</body>
</html>
